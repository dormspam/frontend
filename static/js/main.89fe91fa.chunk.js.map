{"version":3,"sources":["utils/session.js","api/request.js","api/categories.js","api/events.js","components/home/sidebar/calendar/HomeSidebarCalendarDayItem.js","components/home/sidebar/calendar/HomeSidebarCalendar.js","components/home/sidebar/categories/HomeSidebarCategoriesView.js","components/home/header/HomeHeaderView.js","components/home/selection/HomeSelectionWeekBarDayItem.js","components/home/selection/HomeSelectionWeekBar.js","components/home/selection/HomeSelectionFilter.js","components/home/selection/HomeSelectionView.js","components/home/sidebar/event/HomeSidebarEventModal.js","components/home/feed/HomeFeedEventView.js","components/home/feed/HomeFeedView.js","components/home/feed/HomeFeedEventModal.js","components/home/HomeView.js","components/event/EventView.js","api/users.js","components/login/LoginView.js","components/settings/frequency/FrequencyView.js","components/settings/preferences/PreferencesView.js","components/settings/SettingsView.js","components/login/VerifyView.js","App.js","serviceWorker.js","index.js"],"names":["isUserLoggedIn","sessionStorage","user","JSON","parse","BASE_URL","process","Request","endpoint","parameters","options","method","url","withCredentials","undefined","axios","then","response","catch","error","callback","this","Categories","Events","date","query","id","HomeSidebarCalendarDayItem","props","getDayTags","bind","frequencies","frequenciesFiltered","key","categories","indexOf","frequenciesSorted","Object","keys","sort","a","b","tagData","focus","i","length","push","className","style","color","colors","active","isToday","moment","onClick","day","Component","HomeSidebarCalendar","state","today","m","previousMonth","nextMonth","selectDay","getCategories","tempColors","data","name","setState","nextProps","selectedDay","getEventFrequencyByDate","format","subtract","add","event","target","getAttribute","parentElement","onSelectDay","dayTagsData","monthStart","startOf","monthEnd","endOf","weekStart","weekEnd","isBefore","isSame","dayTags","map","HomeSidebarCategoriesView","filters","settings","get","res","tempFilters","onCategoryUpdate","handleCategoryClick","handleCheck","toggleCategory","handleSave","tagName","toLowerCase","classList","contains","category","includes","splice","put","onUserUpdate","categoryTags","index","type","checked","onChange","HomeHeaderView","src","alt","onHamburgerClick","Link","to","HomeSelectionWeekBarDayItem","HomeSelectionWeekBar","currentWeekStart","currentDate","previousWeek","nextWeek","selectToday","toUpperCase","HomeSelectionFilter","openContent","closedContent","isOpen","handleCategorySelect","switchFilter","handleChange","checkbox","childNodes","onSearch","value","placeholder","HomeSelectionView","HomeSidebarEventModal","tags","border","onSelectBack","sent_from","dangerouslySetInnerHTML","__html","description","HomeFeedEventView","handleClick","dotTags","selected","background","location","description_text","HomeFeedView","searchCount","searching","saveEventData","parseCategories","self","getEventsByDate","search","getEventsByQuery","inputData","times","aTime","start_time","valueOf","bTime","j","filteredTimes","k","l","listed","substring","split","replace","elements","timeString","selectedEvent","uid","onSelectEvent","HomeFeedEventModal","title","HomeView","mobileMenu","handleSelectEvent","handleSelectDay","handleClickAway","handleSearch","handleUserUpdate","handleCategoryUpdate","toggleMobileMenu","document","getElementsByClassName","removeEventListener","addEventListener","href","textDecoration","EventView","getEventById","match","params","Users","kerberos","clear","code","LoginView","redirect","pending","kerberosInput","React","createRef","handleKeyDown","handleLogin","keyCode","current","login","getElementById","backgroundColor","innerHTML","cursor","Redirect","ref","onKeyDown","FrequencyView","frequency","parseInt","updateCurrentUser","optionTags","hidden","defaultValue","PreferencesView","preferences","saveCategories","SettingsView","currentItem","loading","getCurrentUser","handleItemClick","logout","settingsItemTags","item","VerifyView","deleteOnUp","keyPressed","showErrorText","handleKeyUp","inputElements","getElementsByTagName","newCode","keyCodeIsNumber","toString","Math","min","window","paramsList","param","verify","setItem","stringify","idx","charAt","onKeyUp","text","App","BrowserRouter","Helmet","charset","content","rel","Switch","exact","path","component","authenticated","DormspamRoute","rest","Route","render","Boolean","hostname","ReactDOM","ReactGA","initialize","pageview","pathname","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.89fe91fa.chunk.js","sourcesContent":["function getCurrentUser() {\n  if (typeof sessionStorage.user === \"undefined\") {\n    return null;\n  }\n\n  return JSON.parse(sessionStorage.user);\n}\n\nfunction isUserLoggedIn() {\n  return getCurrentUser() !== null;\n}\n\nfunction setupSession(data) {\n  sessionStorage.setItem(\"user\", JSON.stringify(data));\n}\n\nexport {\n  getCurrentUser,\n  isUserLoggedIn,\n  setupSession\n};\n","import axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_BACKEND_URL;\n\nclass Request {\n  constructor(endpoint, parameters = {}) {\n    // Default request options for axios\n    let options = {\n      method: \"GET\",\n      url: BASE_URL + endpoint,\n      withCredentials: true\n    };\n\n    // Add request data\n    options[\"data\"] = parameters[\"data\"];\n\n    // Only pass method if undefined, since it is assumed to be GET\n    if (parameters[\"method\"] !== undefined) {\n      options[\"method\"] = parameters[\"method\"];\n    }\n\n    // Pass request body and URL parameters\n    options[\"params\"] = parameters[\"params\"];\n\n    // Perform the request\n    axios(options).then(response => {\n      if (typeof this.then !== \"undefined\") {\n        this.then(response);\n      }\n    }).catch(error => {\n      if (typeof this.catch !== \"undefined\") {\n        this.catch(error);\n      }\n    });\n  }\n\n  catch(callback) {\n    this.catch = callback;\n    return this;\n  }\n\n  then(callback) {\n    this.then = callback;\n    return this;\n  }\n}\n\nexport default Request;\n","import Request from \"./request\";\n\nclass Categories {\n  static getCategories() {\n    return new Request(\"/categories\");\n  }\n}\n\nexport default Categories;\n","import Request from \"./request\";\n\nclass Events {\n  static getEventFrequencyByDate(date) {\n    return new Request(\"/events/frequency/\" + date);\n  }\n\n  static getEventsByDate(date) {\n    return new Request(\"/events/\" + date);\n  }\n\n  static getEventsByQuery(query) {\n    return new Request(\"/events?q=\" + query);\n  }\n\n  static getEventById(id) {\n    return new Request(\"/events/\" + id);\n  }\n}\n\nexport default Events;\n","import React, { Component } from \"react\";\nimport \"./HomeSidebarCalendarDayItem.css\";\n\nexport default class HomeSidebarCalendarDayItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.getDayTags = this.getDayTags.bind(this);\n\t}\n\n\tgetDayTags() {\n\t\tlet frequencies = this.props.frequencies;\n\t\tlet frequenciesFiltered = {};\n\t\tfor (var key in frequencies) {\n\t\t\tif (this.props.categories.indexOf(key) > -1) {\n\t\t\t\tfrequenciesFiltered[key] = frequencies[key];\n\t\t\t}\n\t\t}\n\t\tlet frequenciesSorted = Object.keys(frequenciesFiltered).sort(function(a,b){return frequencies[b]-frequencies[a]});\n\n\t\tlet tagData = [];\n\t\tif (this.props.focus) {\n\t\t\tfor (let i=0; i < 3; i++) {\n\t\t  \t\tif (frequenciesSorted.length > i && frequencies[frequenciesSorted[i]] > 0) {\n\t\t\t  \t\ttagData.push(<span\n\t\t\t  \t\t\tclassName=\"tags\"\n\t\t\t  \t\t\tstyle={{color: this.props.colors[frequenciesSorted[i]]}}\n\t\t\t  \t\t\tkey={\"tag-\" + frequenciesSorted[i]}>\n\t\t\t  \t\t\t&#9632;\n\t\t\t  \t\t\t</span>);\n\t\t  \t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn tagData;\n\t}\n\n\trender() {\n\t\tlet tagData = this.getDayTags();\n\t\treturn (\n\t\t  <div className={\"HomeSidebarCalendarDayItem\" + (this.props.active ? \" active\" : \"\") + (this.props.focus ? \" focus\" : \"\") + (this.props.isToday ? \" today\" : \"\")} moment={this.props.moment} onClick={this.props.onClick}>\n\t\t    <div className=\"circle\">\n\t\t      <p className=\"day\">{this.props.day}\n\t\t      \t<br />\n\t\t      \t{tagData}\n\t\t      </p>\n\t\t    </div>\n\t\t  </div>\n\t\t);\n\t}\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nimport Categories from \"../../../../api/categories\";\nimport Events from \"../../../../api/events\";\nimport HomeSidebarCalendarDayItem from \"./HomeSidebarCalendarDayItem\";\nimport \"./HomeSidebarCalendar.css\";\n\nclass HomeSidebarCalendar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      today: moment(),\n      m: moment(),\n      frequencies: {},\n      colors: {}\n    };\n\n    this.previousMonth = this.previousMonth.bind(this);\n    this.nextMonth = this.nextMonth.bind(this);\n    this.selectDay = this.selectDay.bind(this);\n\n    Categories.getCategories().then(response => {\n      let tempColors = {};\n      for (let i = 0; i < response.data.length; i++) {\n        tempColors[response.data[i].name] = response.data[i][\"color\"];\n      }\n      this.setState({\n        colors: tempColors\n      });\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      today: moment(nextProps.selectedDay),\n    });\n\n    Events.getEventFrequencyByDate(moment(this.state.m).format(\"YYYY-MM-DD\")).then(response => {\n      this.setState({\n        frequencies: response.data\n      });\n    });\n  }\n\n  previousMonth() {\n    this.setState({\n      m: this.state.m.subtract(1, 'months')\n    });\n  }\n\n  nextMonth() {\n    this.setState({\n      m: this.state.m.add(1, 'months')\n    });\n  }\n\n  /* 0 is sunday, 1 is monday, etc */\n  selectDay(event) {\n    let target = event.target;\n\n    while (target.getAttribute(\"moment\") === null) {\n      target = target.parentElement;\n    }\n\n    let m = target.getAttribute(\"moment\");\n\n    this.setState({\n      today: moment(m),\n      m: moment(m),\n    });\n\n    this.props.onSelectDay(moment(m));    // to sync with week view\n  }\n\n  render() {\n    let dayTagsData = [];\n    const m = moment(this.state.m);\n\n    const monthStart = m.startOf(\"month\");\n    let monthEnd = moment(monthStart);\n    monthEnd = monthEnd.endOf(\"month\");\n\n    const weekStart = monthStart.startOf(\"week\");\n    const weekEnd = monthEnd.endOf(\"week\");\n\n    for (let m = weekStart; m.isBefore(weekEnd); m.add(1, 'days')) {\n      dayTagsData.push({\n        moment: m.format(),\n        date: m.date(),\n        active: m.isSame(this.state.today, 'day'),\n        focus: m.isSame(this.state.m, 'month'),\n        isToday: m.format('MMM Do YY') === moment().format('MMM Do YY'),\n        frequencies: (m.format(\"YYYY-MM-DD\") in this.state.frequencies) ? this.state.frequencies[m.format(\"YYYY-MM-DD\")] : {\n            \"Boba\": 0,\n            \"Food\": 0,\n            \"Tech\": 0,\n            \"EECS-jobs-announce\": 0,\n            \"Recruiting\": 0,\n            \"Social\": 0,\n            \"Performance Groups\": 0,\n            \"Talks\": 0,\n            \"Other\": 0\n        }\n      });\n    }\n\n    const dayTags = dayTagsData.map(\n      (day, i) => <HomeSidebarCalendarDayItem\n                    key={i}\n                    moment={day.moment}\n                    day={day.date}\n                    active={day.active}\n                    focus={day.focus}\n                    isToday={day.isToday}\n                    onClick={this.selectDay}\n                    frequencies={day.frequencies}\n                    colors={this.state.colors}\n                    categories={this.props.categories}\n                  />\n    );\n\n    return (\n      <div className=\"HomeSidebarCalendar\">\n        <div className=\"header\">\n          <div className=\"left-button\" onClick={this.previousMonth}/>\n          <h2>{this.state.m.format('MMMM YYYY')}</h2>\n          <div className=\"right-button\" onClick={this.nextMonth}/>\n        </div>\n        <div className=\"calendar\">\n          {dayTags}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomeSidebarCalendar;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./HomeSidebarCategoriesView.css\";\n\nexport default class HomeSidebarCategoriesView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      categories: [],\n      filters: props.user.settings.filters\n    };\n\n    axios\n      .get(process.env.REACT_APP_BACKEND_URL + \"/categories\")\n      .then(res => {\n        let tempFilters = [];\n        for (let i=0; i < res.data.length; i++) {\n          tempFilters.push(res.data[i].name);\n        }\n        this.setState({\n          categories: res.data,\n          filters: tempFilters\n        });\n        this.props.onCategoryUpdate(tempFilters);\n      });\n\n\n\n    this.handleCategoryClick = this.handleCategoryClick.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.toggleCategory = this.toggleCategory.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  handleCategoryClick(event) {\n    // Don't do anything if the user clicked the checkbox\n    if (event.target.tagName.toLowerCase() === \"input\") {\n      return;\n    }\n\n    // Find the parent \"category\" div\n    let target = null;\n\n    if (event.target.classList.contains(\"category\")) {\n      target = event.target;\n    } else if (event.target.parentElement.parentElement.classList.contains(\"category\")) {\n      target = event.target.parentElement.parentElement;\n    }\n\n    // Update the category's state\n    let category = this.state.categories[target.getAttribute(\"index\")].name;\n    this.toggleCategory(category);\n  }\n\n  handleCheck(event) {\n    let category = this.state.categories[event.target.parentElement.getAttribute(\"index\")].name;\n    this.toggleCategory(category);\n  }\n\n  toggleCategory(category) {\n    let filters = this.state.filters;\n\n    if (filters.includes(category)) {\n      filters.splice(filters.indexOf(category), 1);\n    } else {\n      filters.push(category);\n    }\n\n    this.setState({\n      filters: filters\n    });\n\n    this.props.onCategoryUpdate(filters);\n\n    this.handleSave();\n  }\n\n  handleSave() {\n    axios.put(process.env.REACT_APP_BACKEND_URL + \"/users/current\", {\n      filters: this.state.filters\n    }, {\n      withCredentials: true\n    }).then(response => {\n      this.props.onUserUpdate(response.data);\n    });\n  }\n\n  render() {\n    let categoryTags = this.state.categories.map((category, i) => (\n      <div\n          className={\"category\"}\n          key={i}\n          index={i}\n          onClick={this.handleCategoryClick}\n          style={(this.state.filters.includes(category.name) ? {\"color\": category.color,\n                  \"borderLeft\": \"3px solid \" + category.color} : {\"color\": \"#CFCFCF\",\n                  \"borderLeft\": \"3px solid #CFCFCF\"})}>\n        <input type=\"checkbox\" checked={this.state.filters.includes(category.name)} onChange={this.handleCheck} />\n        <div className=\"text\">\n          <h3>{category.name}</h3>\n        </div>\n      </div>\n    ));\n    return (\n      <div className=\"HomeSidebarCategoriesView\">\n        {categoryTags}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./HomeHeaderView.css\";\n\nclass HomeHeaderView extends Component {\n  render() {\n    return (\n      <div className=\"HomeHeaderView\">\n        <img src=\"/img/bars-solid.svg\" alt=\"Menu\" className=\"hamburger\" onClick={this.props.onHamburgerClick}/>\n        <img className=\"logo\" src=\"/img/dormspam.svg\" alt=\"Logo\" />\n        <Link to=\"/settings\">\n          <img src=\"/img/settings.svg\" alt=\"Settings\" />\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default HomeHeaderView;\n","import React, { Component } from \"react\";\n\nimport \"./HomeSelectionWeekBarDayItem.css\";\n\nclass HomeSelectionWeekBarDayItem extends Component {\n  render() {\n    return (\n      <div className={\"HomeSelectionWeekBarDayItem\" + (this.props.data.isToday ? \" today\" : \"\") + (this.props.data.active ? \" active\" : \"\")} index={this.props.data.index} onClick={this.props.onClick}>\n        <p className=\"weekday\">{this.props.data.day}</p>\n        <div className=\"circle\">\n          <p className=\"day\">{this.props.data.date}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomeSelectionWeekBarDayItem;\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport \"./HomeSelectionWeekBar.css\";\n\nimport HomeSelectionWeekBarDayItem from \"./HomeSelectionWeekBarDayItem\";\n\nclass HomeSelectionWeekBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentWeekStart: moment().startOf(\"week\"),\n      currentDate: moment(),\n    };\n\n    this.previousWeek = this.previousWeek.bind(this);\n    this.nextWeek = this.nextWeek.bind(this);\n    this.selectDay = this.selectDay.bind(this);\n    this.selectToday = this.selectToday.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      currentDate: moment(nextProps.selectedDay),\n      currentWeekStart: moment(nextProps.selectedDay).startOf(\"week\"),\n    });\n  }\n\n  previousWeek() {\n    this.setState({\n      currentWeekStart: moment(this.state.currentWeekStart).subtract(1, 'weeks')\n    });\n  }\n\n  nextWeek() {\n    this.setState({\n      currentWeekStart: moment(this.state.currentWeekStart).add(1, 'weeks')\n    });\n  }\n\n  /* 0 is sunday, 1 is monday, etc */\n  selectDay(event) {\n    let target = event.target;\n\n    if (target.getAttribute(\"index\") === null) {\n      target = target.parentElement;\n    }\n\n    if (target.getAttribute(\"index\") === null) {\n      target = target.parentElement;\n    }\n\n    let index = target.getAttribute(\"index\");\n\n    let m = moment(this.state.currentWeekStart);\n    m = m.add(index, 'days');\n    this.setState({\n      currentDate: m\n    });\n\n    this.props.onSelectDay(moment(m));\n  }\n\n  selectToday() {\n    const m = moment();\n    this.setState({\n      currentDate: moment(m)\n    });\n    this.props.onSelectDay(moment(m));\n  }\n\n  render() {\n    let dayTagsData = [];\n\n    for (let i=0; i < 7; i++) {\n      dayTagsData.push({\n        index: i,\n        day: moment(this.state.currentWeekStart).add(i, 'days').format('ddd').toUpperCase(),\n        date: moment(this.state.currentWeekStart).add(i, 'days').date(),\n        active: moment(this.state.currentWeekStart).add(i, 'days').format('MMM Do YY') === moment(this.state.currentDate).format('MMM Do YY'),\n        isToday: moment(this.state.currentWeekStart).add(i, 'days').format('MMM Do YY') === moment().format('MMM Do YY')\n      });\n    }\n\n    const dayTags = dayTagsData.map(\n      day => <HomeSelectionWeekBarDayItem\n                onClick={this.selectDay}\n                key={day.date}\n                data={day}\n                categories={this.props.categories} />\n    );\n\n    return (\n      <div className=\"HomeSelectionWeekBar\">\n        <div className=\"header\">\n          <h1><span className=\"bold\">{this.state.currentDate.format('dddd')}</span>, {this.state.currentDate.format('MMMM Do')}</h1>\n          <h1 className=\"outline\" onClick={this.selectToday}>Today</h1>\n        </div>\n        <div className=\"weekbar\">\n          <div className=\"left-button\" onClick={this.previousWeek} />\n          <div className=\"weekdays\">\n            {dayTags}\n          </div>\n          <div className=\"right-button\" onClick={this.nextWeek} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomeSelectionWeekBar;\n","import React, { Component } from \"react\";\nimport \"./HomeSelectionFilter.css\";\n\nclass HomeSelectionFilter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      openContent: \"Close\",\n      closedContent: \"Select Categories\",\n      isOpen: false\n    };\n\n    this.handleCategorySelect = this.handleCategorySelect.bind(this);\n    this.switchFilter = this.switchFilter.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleCategorySelect(event) {\n    // Don't do anything if the user clicked the checkbox\n    if (event.target.tagName.toLowerCase() === \"input\") {\n      return;\n    }\n\n    let checkbox = event.target.childNodes[0];\n    checkbox.checked = !checkbox.checked;\n  }\n\n  switchFilter(event) {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  handleChange(event) {\n    this.props.onSearch(event.target.value);\n  }\n\n  render() {\n    return (\n      <div className=\"HomeSelectionFilter\">\n        <div className=\"icon\">\n          <img src=\"/img/search.svg\" alt=\"Search\" />\n        </div>\n        <input className=\"search\" type=\"text\" name=\"search\" placeholder=\"Search by content...\" onChange={this.handleChange} />\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default HomeSelectionFilter;\n","import React, { Component } from \"react\";\nimport \"./HomeSelectionView.css\";\n\nimport HomeSelectionWeekBar from \"./HomeSelectionWeekBar\";\nimport HomeSelectionFilter from \"./HomeSelectionFilter\";\n\nclass HomeSelectionView extends Component {\n  render() {\n    return (\n      <div className=\"HomeSelectionView\">\n        <HomeSelectionWeekBar\n          selectedDay={this.props.selectedDay}\n          onSelectDay={this.props.onSelectDay}\n        />\n        <HomeSelectionFilter onSearch={this.props.onSearch} />\n      </div>\n    );\n  }\n}\n\nexport default HomeSelectionView;\n","import React, { Component } from \"react\";\n\nimport Categories from \"../../../../api/categories\";\nimport \"./HomeSidebarEventModal.css\";\n\nclass HomeSidebarEventModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      colors: {}\n    };\n\n    this.getCategories = this.getCategories.bind(this);\n\n    Categories.getCategories().then(response => {\n      for (let i = 0; i < response.data.length; i++) {\n        this.state.colors[response.data[i].name] = response.data[i][\"color\"];\n      }\n    });\n  }\n\n  getCategories() {\n    let categories = this.props.event.categories;\n    let tags = [];\n    for (let i=0; i < categories.length; i++) {\n      tags.push(<span className=\"tags\"\n                      key={\"tags-\" + categories[i]}\n                      style={{border: \"2px solid \" + this.state.colors[categories[i]],\n                              color: this.state.colors[categories[i]]}}>\n                      &#9679; {categories[i]}\n                </span>);\n    }\n    return tags;\n  }\n\n  render() {\n    if (this.props.event === null) {\n      return <div />;\n    }\n\n    let categoryTags = this.getCategories();\n\n    return (\n      <div className=\"HomeSidebarEventModal\">\n        <div className=\"metadata\">\n        <img className=\"back\" src=\"/img/grey-back.svg\" alt=\"Back\" onClick={this.props.onSelectBack} />\n          <h3>{this.props.event.sent_from}</h3>\n          <div className=\"minipadding\"></div>\n          <h3>\n            {categoryTags}\n          </h3>\n          <div className=\"padding\"></div>\n          <hr />\n        </div>\n        <div dangerouslySetInnerHTML={{__html: this.props.event.description}} />\n      </div>\n    );\n  }\n}\n\nexport default HomeSidebarEventModal;\n","import React, { Component } from \"react\";\nimport \"./HomeFeedEventView.css\";\n\nclass HomeFeedEventView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.props.onClick(this.props.event);\n  }\n\n  render() {\n    let dotTags = [];\n    for (let i=0; i < this.props.event.categories.length; i++) {\n      dotTags.push(<span className=\"dots\" style={{\"color\": this.props.colors[this.props.event.categories[i]]}} key={\"dots-\" + this.props.event.categories[i]}>&#9632;</span>);\n    }\n    return (\n      <div className={\"HomeFeedEventView\" + (this.props.selected ? \" selected\" : \"\")} style={this.props.selected ? {background: this.props.color} : {}} onClick={this.handleClick}>\n        <h3 className=\"bold\">{this.props.event.name}</h3>\n        <p>{this.props.event.location} {dotTags}</p>\n        <p className={\"description\" + (this.props.selected ? \" selected\" : \"\")}><br />{this.props.event.description_text}</p>\n      </div>\n    );\n  }\n}\n\nexport default HomeFeedEventView;\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nimport Categories from \"../../../api/categories\";\nimport Events from \"../../../api/events\";\nimport HomeFeedEventView from \"./HomeFeedEventView\";\nimport \"./HomeFeedView.css\";\n\nclass HomeFeedView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      searchCount: 0,\n      searching: false,\n      colors: {}\n    };\n\n    this.saveEventData = this.saveEventData.bind(this);\n    this.parseCategories = this.parseCategories.bind(this);\n\n    const self = this;\n\n    Events.getEventsByDate(moment().format(\"YYYY-MM-DD\")).then(response => {\n      self.saveEventData(response.data);\n    });\n\n    Categories.getCategories().then(response => {\n      let tempColors = {};\n      for (let i = 0; i < response.data.length; i++) {\n        tempColors[response.data[i].name] = response.data[i][\"color\"];\n      }\n      this.setState({\n        colors: tempColors\n      });\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const self = this;\n    const searching = nextProps.search.length > 0;\n    const searchCount = this.state.searchCount + 1;\n\n    if (searching) {\n      // make axios request here for search\n      Events.getEventsByQuery(nextProps.search).then(response => {\n        if (searchCount < self.state.searchCount) {\n          return;\n        }\n\n        self.saveEventData(response.data);\n      });\n    } else {\n      Events.getEventsByDate(nextProps.selectedDay.format(\"YYYY-MM-DD\")).then(response => {\n        if (searchCount < self.state.searchCount) {\n          return;\n        }\n\n        self.saveEventData(response.data);\n      });\n    }\n\n    this.setState({\n      searchCount: searchCount,\n      searching: searching\n    });\n  }\n\n  saveEventData(inputData) {\n    let times = [];\n\n    let data = inputData.sort((a, b) => {\n      let aTime = moment(a.start_time).valueOf();\n      let bTime = moment(b.start_time).valueOf();\n\n      if (aTime > bTime) {\n        return 1;\n      } else if (aTime < bTime) {\n        return -1\n      }\n\n      return 0;\n    });\n\n    for (var i=0; i < data.length; i++) {\n      if (times.length === 0) {\n        times.push([data[i]]);\n      } else {\n        if (moment(times[times.length - 1][0].start_time).valueOf() === moment(data[i].start_time).valueOf()) {\n          times[times.length - 1].push(data[i]);\n        } else {\n          times.push([data[i]]);\n        }\n      }\n    }\n\n    for (var j=0; j < data.length; j++) {\n      data[j].categories = this.parseCategories(data[j].categories);\n    }\n\n    let filteredTimes = [];\n\n    for (var k=0; k < times.length; k++) {\n      for (var l=0; l < times[k][0].categories.length; l++) {\n        if (this.props.categories.indexOf(times[k][0].categories[l]) >= 0) {\n          filteredTimes.push(times[k]);\n          break;\n        }\n      }\n    }\n\n    this.setState({\n      data: filteredTimes\n    });\n  }\n\n  parseCategories(categories) {\n    categories = categories.substring(1, categories.length - 1);\n    let listed = categories.split(\",\");\n    for (let i=0; i < listed.length; i++) {\n      listed[i] = listed[i].replace(/\"/g, \"\");\n    }\n    return listed;\n  }\n\n  render() {\n    let elements = [];\n\n    for (var i = 0; i < this.state.data.length; i++) {\n      elements.push(\n        <div className=\"timeline\" key={\"times\" + i + \"1\"}>\n          <div className=\"sideline\">\n            <div className=\"ball\"></div>\n          </div>\n        </div>\n      );\n\n      let timeString = moment(this.state.data[i][0].start_time).format(\"h:mm a\");\n\n      if (this.state.searching) {\n        timeString = moment(this.state.data[i][0].start_time).format(\"MMMM Do YYYY, h:mm a\");\n      }\n\n      elements.push(\n        <div className=\"onetime\" key={\"times\" + i + \"2\"}>{timeString}</div>\n      );\n\n      for (var j = 0; j < this.state.data[i].length; j++) {\n        let selected = false;\n\n        if (this.props.selectedEvent !== null) {\n          selected = this.props.selectedEvent.uid === this.state.data[i][j].uid;\n        }\n\n        elements.push(\n          <div className=\"timeevents\" key={this.state.data[i][j].uid}>\n            <div className=\"sidespace\" />\n            <HomeFeedEventView\n              event={this.state.data[i][j]}\n              selected={selected}\n              onClick={this.props.onSelectEvent}\n              colors={this.state.colors} />\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"HomeFeedView\">\n        {elements}\n      </div>\n    );\n  }\n}\n\nexport default HomeFeedView;\n","import React, { Component } from \"react\";\n\nimport Categories from \"../../../api/categories\";\nimport \"./HomeFeedEventModal.css\";\n\nclass HomeFeedEventModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      colors: {}\n    };\n\n    this.getCategories = this.getCategories.bind(this);\n\n    Categories.getCategories().then(response => {\n      for (let i = 0; i < response.data.length; i++) {\n        this.state.colors[response.data[i].name] = response.data[i][\"color\"];\n      }\n    });\n  }\n\n  getCategories() {\n    let categories = this.props.event.categories;\n    let tags = [];\n    for (let i=0; i < categories.length; i++) {\n      tags.push(<span className=\"tags\"\n                      key={\"tags-\" + categories[i]}\n                      style={{border: \"2px solid \" + this.state.colors[categories[i]],\n                              color: this.state.colors[categories[i]]}}>\n                      &#9679; {categories[i]}\n                </span>);\n    }\n    return tags;\n  }\n\n  render() {\n    if (this.props.event === null) {\n      return null;\n    }\n\n    let categoryTags = this.getCategories();\n\n    return (\n      <div id={this.props.event.uid} className=\"HomeFeedEventModal\">\n      <img className=\"back\" src=\"/img/x-button.svg\" alt=\"Back\" onClick={this.props.onSelectBack} />\n          <h3>{this.props.event.sent_from}</h3>\n          <div className=\"minipadding\"></div>\n          <h3>\n            {categoryTags}\n          </h3>\n          <div className=\"padding\"></div>\n          <hr />\n        <h2>{this.props.event.title}</h2>\n        <div dangerouslySetInnerHTML={{__html: this.props.event.description}} />\n      </div>\n    );\n  }\n}\n\nexport default HomeFeedEventModal;\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport \"./HomeView.css\";\n\nimport HomeSidebarCalendar from \"./sidebar/calendar/HomeSidebarCalendar\";\nimport HomeSidebarCategoriesView from \"./sidebar/categories/HomeSidebarCategoriesView\";\nimport HomeHeaderView from \"./header/HomeHeaderView\";\nimport HomeSelectionView from \"./selection/HomeSelectionView\";\nimport HomeSidebarEventModal from \"./sidebar/event/HomeSidebarEventModal\";\nimport HomeFeedView from \"./feed/HomeFeedView\";\nimport HomeFeedEventModal from \"./feed/HomeFeedEventModal\";\n\nclass HomeView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      day: moment(),\n      event: null,\n      search: \"\",\n      user: { settings: { filters: [] }},\n      categories: [],\n      mobileMenu: false,\n    };\n\n    axios.get(process.env.REACT_APP_BACKEND_URL + \"/users/current\", {\n      withCredentials: true\n    }).then(response => {\n      this.setState({\n        user: response.data\n      });\n    });\n\n    this.handleSelectEvent = this.handleSelectEvent.bind(this);\n    this.handleSelectDay = this.handleSelectDay.bind(this);\n    this.handleClickAway = this.handleClickAway.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleUserUpdate = this.handleUserUpdate.bind(this);\n    this.handleCategoryUpdate = this.handleCategoryUpdate.bind(this);\n    this.toggleMobileMenu = this.toggleMobileMenu.bind(this);\n  }\n\n  handleSelectEvent(event) {\n    if (this.state.event !== null && this.state.event.uid === event.uid) {\n      document.getElementsByClassName(\"column left\")[0].removeEventListener('click', this.handleClickAway, false);\n      this.setState({\n        event: null\n      });\n    } else {\n      document.getElementsByClassName(\"column left\")[0].addEventListener('click', this.handleClickAway, false);\n      this.setState({ event });\n    }\n  }\n\n  handleSelectDay(m) {\n    this.setState({\n      day: m,\n      event: null\n    });\n  }\n\n  handleClickAway(event) {\n    document.getElementsByClassName(\"column left\")[0].removeEventListener('click', this.handleClickAway, false);\n    this.setState({\n      event: null\n    });\n  }\n\n  handleSearch(search) {\n    this.setState({ search });\n  }\n\n  handleUserUpdate(data) {\n    this.setState({\n      user: data\n    });\n  }\n\n  handleCategoryUpdate(categories) {\n    this.setState({\n      categories: categories\n    });\n  }\n\n  toggleMobileMenu() {\n    this.setState({\n      mobileMenu: !this.state.mobileMenu\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"HomeView\">\n        <a href=\"https://docs.google.com/forms/d/e/1FAIpQLScdLEjdkiVAdQ2gKoA1QtD9ANvBuOrce4ZIJwbIVQz7TRkObg/viewform\" target=\"_blank\">\n          <div className=\"betaform\"> beta - report bugs / suggest changes <a style={{textDecoration: \"underline\"}}>here</a></div>\n        </a>\n        <div className={\"column left\" + (this.state.event !== null ? \" inactive\" : \"\")}>\n          <div className=\"betaspace\"></div>\n          <div className={\"greybox\" + (this.state.mobileMenu ? \" active\" : \"\")} onClick={this.toggleMobileMenu}/>\n          <HomeHeaderView onHamburgerClick={this.toggleMobileMenu}/>\n          <HomeSelectionView\n            onSearch={this.handleSearch}\n            selectedDay={this.state.day}\n            onSelectDay={this.handleSelectDay}\n            categories={this.state.categories}\n          />\n          <HomeFeedView\n            search={this.state.search}\n            selectedDay={this.state.day}\n            selectedEvent={this.state.event}\n            onSelectEvent={this.handleSelectEvent}\n            categories={this.state.categories}\n          />\n        </div>\n        <div className=\"modal\">\n            <HomeFeedEventModal\n              event={this.state.event}\n              onSelectBack={this.handleClickAway}\n            />\n        </div>\n        <div className={\"column right\" + (this.state.mobileMenu ? \" mobile\" : \"\") + (this.state.event !== null ? \" active\" : \"\")}>\n          <div className=\"betaspace\"></div>\n          <HomeSidebarCalendar\n            selectedDay={this.state.day}\n            onSelectDay={this.handleSelectDay}\n            categories={this.state.categories}\n          />\n          <HomeSidebarCategoriesView\n            onUserUpdate={this.handleUserUpdate}\n            user={this.state.user}\n            onCategoryUpdate={this.handleCategoryUpdate}\n          />\n          <HomeSidebarEventModal\n            onSelectBack={this.handleClickAway}\n            event={this.state.event}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomeView;\n","import React, { Component } from \"react\";\n\nimport Events from \"../../api/events\";\nimport HomeSidebarEventModal from \"../../components/home/sidebar/event/HomeSidebarEventModal\";\n\nclass EventView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      event: null\n    };\n\n    const self = this;\n\n    Events.getEventById(props.match.params.id).then(response => {\n      self.setState({\n        event: response.data\n      });\n    });\n  }\n\n  render() {\n    if (this.state.event === null) {\n      return <div />;\n    }\n\n    return <HomeSidebarEventModal event={this.state.event} />;\n  }\n}\n\nexport default EventView;\n","import Request from \"./request\";\n\nclass Users {\n  static getCurrentUser() {\n    return new Request(\"/users/current\");\n  }\n\n  static login(kerberos) {\n    return new Request(\"/users/login\", {\n      data: {\n        kerberos: kerberos,\n      },\n      method: \"post\"\n    });\n  }\n\n  static logout() {\n    sessionStorage.clear();\n\n    return new Request(\"/users/current\", {\n      method: \"delete\"\n    });\n  }\n\n  static updateCurrentUser(data) {\n    return new Request(\"/users/current\", {\n      data: data,\n      method: \"put\"\n    });\n  }\n\n  static verify(code, kerberos) {\n    return new Request(\"/users/verify\", {\n      data: {\n        code: code,\n        kerberos: kerberos\n      },\n      method: \"post\"\n    });\n  }\n}\n\nexport default Users;\n","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Users from \"../../api/users\";\nimport \"./LoginView.css\";\n\nclass LoginView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirect: null,\n      pending: false,\n    };\n\n    this.kerberosInput = React.createRef();\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleKeyDown(event) {\n    if (event.keyCode === 13) { // enter\n      this.handleLogin();\n    }\n  }\n\n  handleLogin() {\n    if (this.kerberosInput.current.value.length === 0 || this.state.pending) {\n      return;\n    }\n\n    const kerberos = this.kerberosInput.current.value;\n    const self = this;\n\n    Users.login(kerberos).then(response => {\n      self.setState({\n        redirect: \"/verify?k=\" + kerberos\n      });\n    });\n\n    document.getElementById(\"login-btn\").style.backgroundColor = \"#888BDE\";\n    document.getElementById(\"login-btn\").innerHTML = \"Sending email to \" + kerberos + \"@mit.edu\";\n    document.getElementById('login-btn').style.cursor = \"text\";\n\n    this.setState({\n      pending: true\n    });\n  }\n\n  render() {\n    if (this.state.redirect !== null) {\n      return <Redirect to={this.state.redirect} />;\n    }\n\n    return (\n      <div className=\"LoginView\">\n        <div className=\"bigger-container\">\n          <img className=\"logo\" src=\"/img/dormspam-white.svg\" alt=\"Logo\" />\n          <div className=\"container\">\n            <h1>Sign In</h1>\n            <input ref={this.kerberosInput} onKeyDown={this.handleKeyDown} type=\"text\" placeholder=\"Enter your kerberos\" />\n            <button id=\"login-btn\" onClick={this.handleLogin}>Login</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginView;\n","import React, { Component } from \"react\";\n\nimport Users from \"../../../api/users\";\nimport \"./FrequencyView.css\";\n\nclass FrequencyView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      frequency: this.props.user.settings.frequency\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      frequency: parseInt(event.target.value, 10)\n    });\n  }\n\n  handleSave() {\n    const self = this;\n\n    Users.updateCurrentUser({\n      frequency: parseInt(this.state.frequency, 10)\n    }).then(response => {\n      self.props.onUserUpdate(response.data);\n    });\n  }\n\n  render() {\n    let selectOptions = [0, 1, 2, 3, 5, 7];\n    let optionTags = selectOptions.map(frequency => (\n      <option key={frequency}>{frequency}</option>\n    ));\n\n    return (\n      <div className={\"FrequencyView\" + (this.props.hidden ? \" hidden\" : \"\")}>\n        <div className=\"container\">\n          <h1>How often would you like your digest?</h1>\n          <div className=\"line\">\n            <p>Once every</p>\n            <label className=\"custom-select\">\n              <select defaultValue={this.state.frequency} onChange={this.handleChange}>\n                {optionTags}\n              </select>\n            </label>\n\n            <p>{this.state.frequency === 1 ? \"day\" : \"days\"}</p>\n            <button className=\"btn-freq\" onClick={this.handleSave}>Save</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FrequencyView;\n","import React, { Component } from \"react\";\nimport Users from \"../../../api/users\";\nimport Categories from \"../../../api/categories\";\nimport axios from \"axios\";\nimport \"./PreferencesView.css\";\n\nclass PreferencesView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      categories: [],\n      preferences: props.user.settings.preferences,\n      colors: {}\n    };\n\n    this.saveCategories = this.saveCategories.bind(this);\n    this.handleCategoryClick = this.handleCategoryClick.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n\n    const self = this;\n\n    axios\n      .get(process.env.REACT_APP_BACKEND_URL + \"/categories\")\n      .then(res => {\n        self.saveCategories(res.data);\n      });\n\n    Categories.getCategories().then(response => {\n      let tempColors = {};\n      for (let i = 0; i < response.data.length; i++) {\n        tempColors[response.data[i].name] = response.data[i][\"color\"];\n      }\n      this.setState({\n        colors: tempColors\n      });\n    });\n  }\n\n  saveCategories(categories) {\n    this.setState({\n      categories: categories\n    });\n  }\n\n  handleCategoryClick(event) {\n    // Don't do anything if the user clicked the checkbox\n    if (event.target.tagName.toLowerCase() === \"input\") {\n      return;\n    }\n\n    // Find the parent \"category\" div\n    let target = null;\n\n    if (event.target.classList.contains(\"category\")) {\n      target = event.target;\n    } else if (event.target.parentElement.parentElement.classList.contains(\"category\")) {\n      target = event.target.parentElement.parentElement;\n    }\n\n    // Update the category's state\n    let category = this.state.categories[target.getAttribute(\"index\")].id;\n    this.toggleCategory(category);\n  }\n\n  handleCheck(event) {\n    let category = this.state.categories[event.target.parentElement.getAttribute(\"index\")].id;\n    this.toggleCategory(category);\n  }\n\n  toggleCategory(category) {\n    let preferences = this.state.preferences;\n\n    if (preferences.includes(category)) {\n      preferences.splice(preferences.indexOf(category), 1);\n    } else {\n      preferences.push(category);\n    }\n\n    this.setState({\n      preferences: preferences\n    });\n  }\n\n  handleSave() {\n    const self = this;\n\n    Users.updateCurrentUser({\n      preferences: this.state.preferences\n    }).then(response => {\n      self.props.onUserUpdate(response.data);\n    });\n  }\n\n  render() {\n    let categoryTags = this.state.categories.map((category, i) => (\n      <div className=\"category\"\n          key={i}\n          index={i}\n          onClick={this.handleCategoryClick}\n          style={{\"borderLeft\": \"3px solid \" + this.state.colors[category.name]}}>\n        <input type=\"checkbox\" checked={this.state.preferences.includes(category.id)} onChange={this.handleCheck} />\n        <div className=\"text\">\n          <h3>{category.name}</h3>\n          <p>{category.description}</p>\n        </div>\n      </div>\n    ));\n\n    return (\n      <div className={\"PreferencesView\" + (this.props.hidden ? \" hidden\" : \"\")}>\n        <div className=\"container\">\n          <h1>Select your digest preferences</h1>\n          {categoryTags}\n          <button className=\"btn-pref\" onClick={this.handleSave}>Save</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PreferencesView;\n","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Users from \"../../api/users\";\nimport \"./SettingsView.css\";\n\nimport FrequencyView from \"./frequency/FrequencyView\";\nimport PreferencesView from \"./preferences/PreferencesView\";\n\nclass SettingsView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentItem: \"Preferences\",\n      loading: true,\n      redirect: null,\n    };\n\n    Users.getCurrentUser().then(response => {\n      this.setState({\n        loading: false,\n        user: response.data\n      });\n    });\n\n    this.handleItemClick = this.handleItemClick.bind(this);\n    this.handleUserUpdate = this.handleUserUpdate.bind(this);\n  }\n\n  handleItemClick(event) {\n    const self = this;\n\n    if (event.target.getAttribute(\"item\") === \"Log Out\") {\n      Users.logout().then(response => {\n        self.setState({\n          redirect: \"/\",\n        });\n      });\n    }\n\n    this.setState({\n      currentItem: event.target.getAttribute(\"item\")\n    });\n  }\n\n  handleUserUpdate(data) {\n    this.setState({\n      user: data\n    });\n  }\n\n  render() {\n    if (this.state.redirect !== null) {\n      return <Redirect to={this.state.redirect} />;\n    } else if (this.state.loading === true) {\n      return <div />;\n    }\n\n    let settingsItems = [\"Preferences\", \"Frequency\", \"Log Out\"];\n    let settingsItemTags = settingsItems.map(item => (\n      <li className={item === this.state.currentItem ? \"active\" : \"\"} key={item} item={item} onClick={this.handleItemClick}>{item}</li>\n    ));\n\n    return (\n      <div className=\"SettingsView\">\n        <div className=\"right column\">\n          <FrequencyView hidden={this.state.currentItem !== \"Frequency\"} onUserUpdate={this.handleUserUpdate} user={this.state.user} />\n          <PreferencesView hidden={this.state.currentItem !== \"Preferences\"} onUserUpdate={this.handleUserUpdate} user={this.state.user} />\n        </div>\n        <div className=\"left column\">\n          <div className=\"headertop\">\n            <a href=\"/\">\n              <img src=\"/img/back.svg\" alt=\"Settings\" />\n              <br />\n              <img className=\"logo\" src=\"/img/dormspam.svg\" alt=\"Logo\" />\n            </a>\n          </div>\n          <ul>\n            {settingsItemTags}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SettingsView;\n","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Users from \"../../api/users\";\nimport { setupSession } from \"../../utils/session\";\nimport \"./VerifyView.css\";\n\nclass VerifyView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      code: \"\",\n      deleteOnUp: false,\n      keyPressed: 0,\n      redirect: null,\n      showErrorText: false\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  keyCodeIsNumber(code) {\n    return (code >= 48 && code <= 57) || (code >= 96 && code <= 105);\n  }\n\n  handleChange(event) {\n    let inputElements = document.getElementsByTagName(\"input\");\n\n    if (this.state.keyPressed === 8) { // backspace\n      let newCode = this.state.code.substring(0, this.state.code.length - 1);\n\n      this.setState({\n        code: newCode\n      });\n\n      inputElements[newCode.length].focus();\n    } else if (this.keyCodeIsNumber(this.state.keyPressed)) {\n      if (this.state.code.length === 4) {\n        return;\n      }\n\n      let newCode = this.state.code + (this.state.keyPressed - 48).toString();\n\n      this.setState({\n        code: newCode\n      });\n\n      inputElements[Math.min(newCode.length, 3)].focus();\n    }\n  }\n\n  handleKeyDown(event) {\n    if (event.keyCode === 13) { // enter\n      this.handleLogin();\n      return;\n    }\n\n    this.setState({\n      deleteOnUp: event.keyCode === 8 && event.target.value.length === 0,\n      keyPressed: event.keyCode\n    });\n  }\n\n  handleKeyUp(event) {\n    if (this.state.deleteOnUp) {\n      this.handleChange(event);\n    }\n  }\n\n  handleLogin() {\n    const url = window.location.href;\n\n    if (!url.includes(\"?\")) {\n      this.setState({\n        redirect: \"/login\"\n      });\n\n      return;\n    }\n\n    const paramString = url.split(\"?\")[1];\n    const paramsList = paramString.split(\"&\");\n    const params = {};\n\n    for (var i = 0; i < paramsList.length; i++) {\n      const param = paramsList[i];\n\n      if (!param.includes(\"=\")) {\n        continue;\n      }\n\n      params[param.split(\"=\")[0]] = param.split(\"=\")[1];\n    }\n\n    const kerberos = params[\"k\"];\n    const self = this;\n\n    Users.verify(this.state.code, kerberos).then(response => {\n      setupSession(response.data);\n\n      self.setState({\n        redirect: \"/\"\n      });\n    }).catch(error => {\n      self.setState({\n        showErrorText: true\n      });\n    });\n  }\n\n  render() {\n    if (this.state.redirect !== null) {\n      return <Redirect to={this.state.redirect} />;\n    }\n\n    let inputElements = [0, 1, 2, 3].map(idx => {\n      return <input\n                type=\"number\"\n                key={idx}\n                index={idx}\n                placeholder=\"0\"\n                value={this.state.code.charAt(idx)}\n                onChange={this.handleChange}\n                onKeyUp={this.handleKeyUp}\n                onKeyDown={this.handleKeyDown}\n                className=\"number-input\" />\n    });\n\n    let text = this.state.showErrorText ? (\n      <p>Hmm... that code doesn't look right to us. Please try entering it again.</p>\n    ) : (\n      <p>Please check your MIT email address for a 4-digit verification code (this might take a minute)</p>\n    );\n\n    return (\n      <div className=\"VerifyView\">\n        <div className=\"bigger-container\">\n          <img className=\"logo\" src=\"/img/dormspam-white.svg\" alt=\"Logo\" />\n          <div className=\"container\">\n            <h1>Verify Email</h1>\n            {text}\n            <div className=\"code-input\">\n              {inputElements}\n            </div>\n            <button onClick={this.handleLogin}>Login</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VerifyView;\n","import React, { Component } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport { isUserLoggedIn } from \"./utils/session\";\nimport HomeView from \"./components/home/HomeView\";\nimport EventView from \"./components/event/EventView\";\nimport LoginView from \"./components/login/LoginView\";\nimport SettingsView from \"./components/settings/SettingsView\";\nimport VerifyView from \"./components/login/VerifyView\";\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <div>\n          <Helmet>\n            <meta charset=\"utf-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=yes\" />\n            <meta name=\"theme-color\" content=\"#5f63d4\" />\n            <link href=\"https://fonts.googleapis.com/css?family=Fredoka+One|Nunito:300,400,600,700\" rel=\"stylesheet\" />\n            <title>Dormspam</title>\n          </Helmet>\n          <Switch>\n            <DormspamRoute exact path=\"/\" component={HomeView} />\n            <DormspamRoute exact path=\"/event/:id\" component={EventView} />\n            <DormspamRoute exact path=\"/login\" component={LoginView} authenticated={false} />\n            <DormspamRoute exact path=\"/settings\" component={SettingsView} />\n            <DormspamRoute exact path=\"/verify\" component={VerifyView} authenticated={false} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst DormspamRoute = ({ component: Component, ...rest }) => {\n  if (isUserLoggedIn() || rest.authenticated === false) {\n    return <Route\n      {...rest}\n      render={props =>\n        <Component {...props} />\n      }\n    />;\n  } else {\n    return <LoginView />;\n  }\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ReactGA from \"react-ga\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nReactGA.initialize(\"UA-134713779-1\");\nReactGA.pageview(window.location.pathname + window.location.search);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}